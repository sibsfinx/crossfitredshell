- # Clients of this partial must supply the following variables:
- # comment
- # user
- creator = comment.creator
- name = Commontator.commontator_name(creator) || ''
- link = Commontator.commontator_link(creator, main_app) || ''
- avatar = Commontator.commontator_avatar(creator, self) || ''
.content-block-sm{:id => "comment_#{comment.id.to_s}_div"}
  .content-block-xs{:id => "comment_#{comment.id.to_s}_top_div"}
    %strong.comment_commontator{:id => "comment_#{comment.id.to_s}_commontator_span"}
      = link.blank? ? name : link_to(name, link)
      &nbsp;
    .hide
      %span.comment_timestamp{:id => "comment_#{comment.id.to_s}_created_timestamp_span"}
        %span= comment.created_at
    %small= l comment.created_timestamp, format: :comment
    %br/
    - if comment.is_modified?
      .hide
        %span.comment_timestamp{:id => "comment_#{comment.id.to_s}_updated_timestamp_span"}
          %span= comment.updated_timestamp
      %small= l comment.updated_timestamp, format: :comment
    %small.pull-right{:id => "comment_#{comment.id.to_s}_actions_span"}
      = render :partial => 'commontator/comments/actions', |
        :locals => { :comment => comment,                  |
        :user => user }                                    |
  .row{:id => "comment_#{comment.id.to_s}_middle_div"}
    .col-md-1
      %span.comment_avatar{:id => "comment_#{comment.id.to_s}_avatar_span"}
        = avatar
      %span.comment_votes{:id => "comment_#{comment.id.to_s}_votes_span"}
        = render :partial => 'commontator/comments/votes', |
          :locals => { :comment => comment,                |
          :user => user }                                  |
    .col-md-11
      .comment_body{:id => "comment_#{comment.id.to_s}_body_div"}
        = render :partial => 'commontator/comments/body', |
          :locals => { :comment => comment }              |
  .comment_div{:id => "comment_#{comment.id.to_s}_bottom_div"}

%hr.content-block-sm
